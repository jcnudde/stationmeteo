//---------------------------------------------------------------------------

#include <vcl.h>
#pragma hdrstop

#include "Ihm.h"
//---------------------------------------------------------------------------
#pragma package(smart_init)
#pragma resource "*.dfm"
TForm2 *Form2;
//---------------------------------------------------------------------------
__fastcall TForm2::TForm2(TComponent* Owner)
	: TForm(Owner)
{
	this->voyantEtatServer->Brush->Color=clRed;
	this->meteoParser = new MeteoParser();
	this->tcpServer = new TcpServer(meteoParser);

}
//---------------------------------------------------------------------------

void __fastcall TForm2::startServerClick(TObject *Sender)
{
	if(this->tcpServer->start(9013))
	{
		this->voyantEtatServer->Brush->Color=clLime;
		this->startServer->Visible=false;
	}
	else
	{
        this->voyantEtatServer->Brush->Color=clRed;
    }
}
//---------------------------------------------------------------------------


void __fastcall TForm2::stopServerClick(TObject *Sender)
{
	this->tcpServer->stop();
	this->stopServer->Visible=false;
    this->startServer->Visible=true;
}
//---------------------------------------------------------------------------

